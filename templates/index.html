<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Essay Classifier</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    :root{
      --bg-1: #FFF7F2;
      --bg-2: #F0FFF9;
      --accent-1: #FF7A7A;   /* coral */
      --accent-2: #4ED5B8;   /* mint */
      --accent-3: #FFD36E;   /* sunny */
      --ink: #2B2B2B;
      --muted: #6C6E73;
      --card: rgba(255,255,255,0.85);
      --glass: rgba(255,255,255,0.7);
      --shadow: 0 10px 30px rgba(45,45,50,0.08);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:"Baloo 2", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: radial-gradient(800px 400px at 10% 10%, rgba(255,215,130,0.08), transparent),
                  linear-gradient(180deg,var(--bg-1),var(--bg-2));
      color:var(--ink);
      display:flex;
      justify-content:center;
      padding:40px 20px;
    }

    .wrap{width:100%;max-width:980px}

    .header{
      display:flex;
      align-items:center;
      gap:16px;
      padding:18px;
      border-radius:18px;
      background: linear-gradient(90deg, rgba(255,122,122,0.08), rgba(78,213,184,0.04));
      box-shadow:var(--shadow);
      margin-bottom:20px;
      border: 1px solid rgba(255,255,255,0.6);
    }
    .logo {
      width:72px;height:72px;border-radius:18px;
      display:inline-flex;align-items:center;justify-content:center;
      font-size:34px;color:white;
      background: conic-gradient(from 120deg,#FF7A7A,#FFD36E,#4ED5B8);
      box-shadow:0 8px 18px rgba(78,213,184,0.12);
    }
    .header h1{font-size:1.6rem;margin-bottom:4px}
    .header p{color:var(--muted);font-size:0.95rem;margin-top:2px}

    .grid{display:grid;grid-template-columns:1fr 380px;gap:20px}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} }

    .card{
      background:var(--card);
      border-radius:18px;
      padding:18px;
      box-shadow:var(--shadow);
      border: 1px solid rgba(0,0,0,0.03);
      backdrop-filter: blur(6px);
    }

    label{display:block;color:var(--ink);font-weight:600;margin-bottom:8px}
    textarea{
      width:100%;min-height:210px;padding:14px;border-radius:12px;border:none;
      background:var(--glass);resize:vertical;font-size:1rem;color:var(--ink);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
    }
    textarea:focus{outline:none;box-shadow:0 8px 30px rgba(78,213,184,0.12);transform:translateY(-1px)}

    .controls{display:flex;gap:12px;align-items:center;margin-top:12px}
    .btn{
      display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:12px;
      background:linear-gradient(90deg,var(--accent-1),var(--accent-3));color:white;font-weight:700;
      border:none;cursor:pointer;box-shadow: 0 8px 20px rgba(255,122,122,0.14);
      transition:transform .12s ease;
    }
    .btn:active{transform:translateY(2px)}
    .hint{color:var(--muted);font-size:0.95rem}

    .playful-note{margin-top:14px;padding:10px;border-radius:12px;background:linear-gradient(90deg,rgba(78,213,184,0.06),rgba(255,211,110,0.04));color:var(--muted)}

    /* result column */
    .result-panel{display:flex;flex-direction:column;gap:16px}
    .result-card{
      padding:16px;border-radius:16px;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(255,255,255,0.92));
      border:1px solid rgba(0,0,0,0.03);box-shadow:var(--shadow);transition:transform .35s ease,box-shadow .35s ease;
      position:relative;overflow:visible;
    }
    .result-card.pop { transform: scale(1.02) rotate(-1deg); box-shadow: 0 18px 40px rgba(45,45,50,0.12); }

    .result-title{display:flex;align-items:center;gap:10px;font-weight:700}
    .result-content{display:flex;align-items:center;gap:12px;margin-top:12px;padding:12px;border-radius:12px}
    .result-content.ai{background:linear-gradient(90deg,rgba(255,122,122,0.08),rgba(255,210,130,0.03))}
    .result-content.human{background:linear-gradient(90deg,rgba(78,213,184,0.06),rgba(210,250,200,0.02))}

    .avatar{width:70px;height:70px;border-radius:14px;display:inline-flex;align-items:center;justify-content:center;color:white;font-size:30px}
    .avatar.ai{background:linear-gradient(135deg,#FF7A7A,#FFD36E); box-shadow: 0 8px 20px rgba(255,122,122,0.12)}
    .avatar.human{background:linear-gradient(135deg,#4ED5B8,#FFD36E); box-shadow: 0 8px 20px rgba(78,213,184,0.12)}

    .badge{margin-left:auto;padding:8px 12px;border-radius:999px;background:linear-gradient(90deg,rgba(255,255,255,0.8),rgba(255,255,255,0.6));font-weight:700;color:var(--muted)}

    .confidence{margin-top:14px;text-align:center}
    .confidence .big{font-size:2.2rem;font-weight:800;color:var(--ink)}
    .confidence small{display:block;color:var(--muted);margin-top:6px}

    .prob{margin-top:12px}
    .prob .row{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;font-weight:700;color:var(--ink)}
    .bar{height:12px;border-radius:999px;background:linear-gradient(90deg,rgba(0,0,0,0.03),rgba(0,0,0,0.01));overflow:hidden}
    .fill-ai{height:100%;background:linear-gradient(90deg,#FF7A7A,#FFD36E);transition:width .9s}
    .fill-human{height:100%;background:linear-gradient(90deg,#4ED5B8,#FFD36E);transition:width .9s}

    /* playful small decorations */
    .bubble{
      position:absolute;width:16px;height:16px;border-radius:50%;opacity:0.12;
      background:radial-gradient(circle at 40% 30%,white,transparent);
      filter: blur(6px);
    }
    .bubble.b1{left:12px;top:8px;background:linear-gradient(90deg,#FFD36E,#FF7A7A)}
    .bubble.b2{right:14px;top:6px;width:22px;height:22px;background:linear-gradient(90deg,#4ED5B8,#FFD36E)}
    .bubble.b3{left:20px;bottom:10px;width:10px;height:10px;background:#FF7A7A}

    /* confetti */
    .confetti{
      position:fixed;left:0;top:0;pointer-events:none;
      width:8px;height:12px;opacity:0;transform:translateY(0) rotate(0) scale(1);
      border-radius:2px;will-change:transform,opacity;
      animation: fall 900ms linear forwards;
    }
    @keyframes fall{
      to{ transform: translateY(420px) rotate(520deg) translateX(60px); opacity:1; }
    }

    /* small bounce for icons */
    .material-icons.play{animation:bounce 1000ms ease infinite}
    @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="header">
      <div class="logo">‚ú®</div>
      <div>
        <h1>Essay AI Sniffer</h1>
        <p>Give a text a spin ‚Äî see whether it feels human or AI-made</p>
      </div>
    </header>

    <div class="grid">
      <main>
        <div class="card">
          <form method="POST" id="classifierForm" novalidate>
            <label for="text">
              <span class="material-icons" style="vertical-align:middle;margin-right:6px;font-size:20px">description</span>
              Paste your essay
            </label>
            <textarea id="text" name="text" placeholder="Paste the essay text here‚Ä¶" required>{{ text if text else '' }}</textarea>

            <div class="controls">
              <button class="btn" type="submit">
                <span class="material-icons">casino</span>
                Classify ‚ú®
              </button>
              <div class="hint">Click Button to get Feedback</div>
            </div>
          </form>

          <div class="playful-note">
            Tip: treat the feedback as guidance, and not final verdicts.
          </div>
        </div>
      </main>

      <aside class="result-panel">
        {% if result and result.success %}
        <div class="result-card" id="resultCard" data-prediction="{{ result.prediction }}">
          <div class="bubble b1"></div>
          <div class="bubble b2"></div>
          <div class="bubble b3"></div>

          <div class="result-title">
            <span class="material-icons play" style="color:var(--muted);font-size:20px">insights</span>
            Classification
          </div>

          {% if result.prediction == "AI-Generated" %}
          <div class="result-content ai">
            <div class="avatar ai"><span class="material-icons">smart_toy</span></div>
            <div style="flex:1">
              <div style="font-weight:800;font-size:1.05rem">{{ result.prediction }}</div>
              <div style="color:var(--muted);margin-top:6px">This one leans AI ‚Äî quirks in phrasing and token patterns detected.</div>
            </div>
            <div class="badge">ü§ñ AI</div>
          </div>
          {% else %}
          <div class="result-content human">
            <div class="avatar human"><span class="material-icons">emoji_people</span></div>
            <div style="flex:1">
              <div style="font-weight:800;font-size:1.05rem">{{ result.prediction }}</div>
              <div style="color:var(--muted);margin-top:6px">Looks human ‚Äî natural phrasing and variety of structure.</div>
            </div>
            <div class="badge">üßë‚Äçüéì Human</div>
          </div>
          {% endif %}

          <div class="confidence">
            <div class="big">{{ result.confidence }}%</div>
            <small>confidence</small>
          </div>

          <div class="prob">
            <div class="row">
              <div style="display:flex;align-items:center;gap:8px"><span class="material-icons" style="font-size:18px;color:var(--muted)">emoji_people</span><div>Human</div></div>
              <div style="font-weight:800">{{ result.probabilities.human }}%</div>
            </div>
            <div class="bar"><div class="fill-human" style="width:{{ result.probabilities.human }}%"></div></div>

            <div class="row" style="margin-top:10px">
              <div style="display:flex;align-items:center;gap:8px"><span class="material-icons" style="font-size:18px;color:var(--muted)">smart_toy</span><div>AI</div></div>
              <div style="font-weight:800">{{ result.probabilities.ai }}%</div>
            </div>
            <div class="bar"><div class="fill-ai" style="width:{{ result.probabilities.ai }}%"></div></div>
          </div>
        </div>
        {% else %}
        <div class="result-card">
          <div style="font-weight:800">No result yet</div>
          <div style="color:var(--muted);margin-top:8px">Paste text and click Classify ‚ú® to get feedback.</div>
        </div>
        {% endif %}
      </aside>
    </div>
    <div style="text-align:center;margin-top:18px;color:var(--muted)">Built with Flask</div>
  </div>

  <script>
    // submit loading microinteraction + preserve original behavior
    document.getElementById('classifierForm').addEventListener('submit', function(e){
      const btn = this.querySelector('.btn');
      const orig = btn.innerHTML;
      btn.innerHTML = '<span class="material-icons">hourglass_top</span> Thinking...';
      btn.disabled = true;
      setTimeout(()=> {
        if (!this.checkValidity()) { btn.innerHTML = orig; btn.disabled = false; }
      },150);
    });

    // auto-resize
    const ta = document.getElementById('text');
    if(ta){ ta.addEventListener('input', function(){ this.style.height='auto'; this.style.height = this.scrollHeight + 'px'; }); ta.style.height = ta.scrollHeight + 'px'; }

    // playful pop + confetti when a result exists
    (function(){
      const rc = document.getElementById('resultCard');
      if(!rc) return;
      // pop animation
      setTimeout(()=> rc.classList.add('pop'), 80);
      setTimeout(()=> rc.classList.remove('pop'), 1100);

      // confetti generator
      const colors = ['#FF7A7A','#FFD36E','#4ED5B8','#94D3FF','#C28CFF'];
      const count = 18;
      for(let i=0;i<count;i++){
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = (20 + Math.random()*60) + '%';
        c.style.top = (10 + Math.random()*10) + '%';
        c.style.background = colors[Math.floor(Math.random()*colors.length)];
        c.style.transform = `translateY(0) rotate(${Math.random()*360}deg)`;
        c.style.animationDelay = (Math.random()*200) + 'ms';
        c.style.opacity = 0.95;
        document.body.appendChild(c);
        setTimeout(()=> c.remove(), 1100 + Math.random()*300);
      }
    })();
  </script>
</body>
</html>
